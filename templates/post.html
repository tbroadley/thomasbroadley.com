<html lang="en">
  <head>
    <title>{{title}}â€”Thomas Broadley</title>

    <meta name="description" content="{{description}}" />

    {{> head}}

    <style>
      p.image > img {
        max-width: 100%;
      }

      @media (max-width: 599px) {
        p.image {
          overflow-x: auto;
        }

        p.image > img {
          max-width: 200%;
        }
      }

      p.image-centered {
        text-align: center;
      }

      p.blogchain {
        display: flex;
        justify-content: center;
      }

      p.blogchain > * {
        display: block;
        text-align: center;
      }

      p.blogchain > *:not(:last-child) {
        margin-right: 1rem;
      }
    </style>

    <link
      href="https://unpkg.com/prismjs@1.21.0/themes/prism.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav>
      <a href="..">All posts</a>
      &middot;
      <a href="../rss.xml">RSS</a>
    </nav>

    <article>
      <header>
        <h1>
          {{#titleHtml}} {{{titleHtml}}} {{/titleHtml}} {{^titleHtml}} {{title}}
          {{/titleHtml}}
        </h1>
        <p class="timestamp">
          {{createdAt}} {{#lastModified}}(last modified
          {{lastModified}}){{/lastModified}}
        </p>

        {{ #blogchains }}
        <p class="blogchain">
          {{ #previousPost }}
          <a href="../{{ path }}">&larr;</a>
          {{ /previousPost }} {{ ^previousPost }}
          <span style="visibility: hidden;">&larr;</span>
          {{ /previousPost }}

          <a href="../tags/{{ tag }}">
            {{ #nameHtml }}{{{ nameHtml }}}{{ /nameHtml }} {{ ^nameHtml }}{{
            name }}{{ /nameHtml }}
          </a>

          {{ #nextPost }}
          <a href="../{{ path }}">&rarr;</a>
          {{ /nextPost }} {{ ^nextPost }}
          <span style="visibility: hidden;">&rarr;</span>
          {{ /nextPost }}
        </p>
        {{ /blogchains }} {{ ^blogchains }} {{ #tagsString }}
        <p class="tags">
          Tags: {{{ tagsString }}}
        </p>
        {{ /tagsString }} {{ /blogchains }}

        <hr />
      </header>

      <section>
        {{{body}}}
      </section>
    </article>

    <script src="https://unpkg.com/prismjs@1.21.0/components/prism-core.min.js"></script>
    <script src="https://unpkg.com/prismjs@1.21.0/plugins/autoloader/prism-autoloader.min.js"></script>
  </body>
</html>
